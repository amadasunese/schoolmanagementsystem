{% extends 'base.html' %}

{% block content %}
    <h2>Edit Student Result</h2>
    <form method="POST">
        {{ form.csrf_token }}  {# Add CSRF token for security #}

        <div class="mb-3">
            <label for="result_url" class="form-label">Result URL:</label>
            <input type="text" class="form-control" id="result_url" name="result_url" value="{{ student.result_url }}" required>
        </div>

        <div class="mb-3">
            <label for="teacher_remark" class="form-label">Teacher Remark:</label>
            <textarea class="form-control" id="teacher_remark" name="teacher_remark" rows="3" required>{{ student.teacher_remark }}</textarea>
        </div>

        <div class="mb-3">
            <label for="principal_remark" class="form-label">Principal Remark:</label>
            <textarea class="form-control" id="principal_remark" name="principal_remark" rows="3" required>{{ student.principal_remark }}</textarea>
        </div>

        <div class="mb-3">
            <label for="principal_signature" class="form-label">Principal Signature:</label>
            <input type="text" class="form-control" id="principal_signature" name="principal_signature" value="{{ student.principal_signature }}" required>
        </div>

        <button type="submit" class="btn btn-primary">Save</button>
    </form>

    <h2 class="mt-4">Delete Student Details</h2>
    <form action="{{ url_for('main.delete_student_result', student_id=student.id) }}" method="POST">
        {{ form.csrf_token }}  {# Add CSRF token here as well #}
        <div class="form-check">
            <input class="form-check-input" type="checkbox" name="delete_result_url" id="delete_result_url">
            <label class="form-check-label" for="delete_result_url">Delete Result URL</label>
        </div>
        <div class="form-check">
            <input class="form-check-input" type="checkbox" name="delete_teacher_remark" id="delete_teacher_remark">
            <label class="form-check-label" for="delete_teacher_remark">Delete Teacher Remark</label>
        </div>
        <div class="form-check">
            <input class="form-check-input" type="checkbox" name="delete_principal_remark" id="delete_principal_remark">
            <label class="form-check-label" for="delete_principal_remark">Delete Principal Remark</label>
        </div>
        <div class="form-check">
            <input class="form-check-input" type="checkbox" name="delete_principal_signature" id="delete_principal_signature">
            <label class="form-check-label" for="delete_principal_signature">Delete Principal Signature</label>
        </div>

        <button type="submit" class="btn btn-danger mt-2">Delete Selected</button>
    </form>
{% endblock %}