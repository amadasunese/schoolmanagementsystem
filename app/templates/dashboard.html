{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <h2 class="mb-4">Admin Dashboard</h2>

    <!-- School Information Section -->
    <div class="row">
        <div class="col-md-4">
            <div class="card text-white bg-primary mb-3">
                <div class="card-header">School Name</div>
                <div class="card-body">
                    <h5 class="card-title">{{ school_name }}</h5>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card text-white bg-success mb-3">
                <div class="card-header">Total Students</div>
                <div class="card-body">
                    <h5 class="card-title">{{ student_count }}</h5>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card text-white bg-info mb-3">
                <div class="card-header">Total Teachers</div>
                <div class="card-body">
                    <h5 class="card-title">{{ teacher_count }}</h5>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation Cards -->
    <div class="row">
        <!-- Students & Teachers Section -->
        <div class="col-md-4">
            <div class="card shadow">
                <div class="card-header bg-dark text-white">Students & Teachers</div>
                <div class="card-body">
                    <a href="{{ url_for('main.classes') }}" class="btn btn-outline-primary btn-block">Manage Classes</a>
                    <a href="{{ url_for('main.students') }}" class="btn btn-outline-primary btn-block">Manage Students</a>
                    <a href="{{ url_for('main.teachers') }}" class="btn btn-outline-primary btn-block">Manage Teachers</a>
                    <a href="{{ url_for('main.assign_teachers') }}" class="btn btn-outline-primary btn-block">Assign Teachers</a>
                </div>
            </div>
        </div>

        <!-- Subjects & Assessments Section -->
        <div class="col-md-4">
            <div class="card shadow">
                <div class="card-header bg-warning">Subjects & Assessments</div>
                <div class="card-body">
                    <a href="{{ url_for('main.subjects') }}" class="btn btn-outline-warning btn-block">Manage Subjects</a>
                    <a href="{{ url_for('main.add_subject') }}" class="btn btn-outline-warning btn-block">Add Subject</a>
                    <a href="{{ url_for('main.assessments') }}" class="btn btn-outline-warning btn-block">View Assessments</a>
                    <a href="{{ url_for('main.add_assessment_score') }}" class="btn btn-outline-warning btn-block">Add Assessment Score</a>
                </div>
            </div>
        </div>

        <!-- Fees Management Section -->
        <div class="col-md-4">
            <div class="card shadow">
                <div class="card-header bg-danger text-white">Fees Management</div>
                <div class="card-body">
                    <a href="{{ url_for('main.fee_components') }}" class="btn btn-outline-danger btn-block">View/Add Fee Components</a>
                    <a href="{{ url_for('main.view_class_fees') }}" class="btn btn-outline-danger btn-block">View Class Fees</a>
                    <a href="{{ url_for('main.view_class_fees') }}" class="btn btn-outline-danger btn-block">Assign Fees to Classes</a>
                    <a href="{{ url_for('main.generate_fees') }}" class="btn btn-outline-danger btn-block">Generate/Print Class Fees</a>
                    <a href="{{ url_for('main.record_payment') }}" class="btn btn-outline-danger btn-block">Record Payment</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Export & School Registration -->
    <div class="row mt-4">
        <div class="col-md-6">
            <div class="card shadow">
                <div class="card-header bg-secondary text-white">Reports</div>
                <div class="card-body">
                    <a href="{{ url_for('main.generate_report', report_type='excel') }}" class="btn btn-outline-secondary btn-block">Export to Excel</a>
                    <a href="{{ url_for('main.generate_report', report_type='word') }}" class="btn btn-outline-secondary btn-block">Export to Word</a>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card shadow">
                <div class="card-header bg-info text-white">School User Registration</div>
                <div class="card-body">
                    <a href="{{ url_for('main.register_user', school_code=school.registration_code, _external=True) }}" class="btn btn-outline-info btn-block">Register Users</a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
